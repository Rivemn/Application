<div class="calendar">
  <div class="calendar-header">
    <button class="nav-button" (click)="prevMonth()">
      <mat-icon>chevron_left</mat-icon>
    </button>
    <span class="month-year">
      {{ monthNames[currentDate.getMonth()] }} {{ currentDate.getFullYear() }}
    </span>
    <button class="nav-button" (click)="nextMonth()">
      <mat-icon>chevron_right</mat-icon>
    </button>
    <button class="today-button" (click)="goToToday()">Today</button>
  </div>

  <div class="calendar-grid">
    <!-- === ВИПРАВЛЕНО: Використовуємо @for замість *ngFor === -->
    @for (day of weekDays; track day) {
    <div class="weekday">{{ day }}</div>
    }
    <!-- =============================================== -->

    @for (day of daysInMonth; track day.date) {
    <div
      class="day-cell"
      [class.current-month]="day.isCurrentMonth"
      [class.today]="day.isToday"
      [class.selected]="day.isSelected"
      [class.has-events]="day.hasEvents"
      (click)="day.isCurrentMonth && selectDate(day.date)"
    >
      <span class="day-number">{{ day.dayOfMonth }}</span>
      @if (day.hasEvents && day.isCurrentMonth) {
      <div class="event-indicator"></div>
      }
    </div>
    }
    <!-- ============================================================== -->
  </div>
</div>
